<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Automation Expert - Transform Your Business with AI</title>
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- AOS for scroll animations -->
    <link
      href="https://unpkg.com/aos@2.3.1/dist/aos.css"
      rel="stylesheet"
    />
    <!-- Alpine.js for small interactivity -->
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <!-- Lottie for animations -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <style>
      /* Glassmorphism style */
      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }

      /* Gradient animation */
      .animated-gradient {
        background: linear-gradient(
          -45deg,
          #8b5cf6,
          #6d28d9,
          #ec4899,
          #f59e0b
        );
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
      }
      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Scroll progress bar */
      #progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        height: 4px;
        background: linear-gradient(to right, #8b5cf6, #ec4899);
        width: 0%;
        z-index: 50;
      }
    </style>
  </head>
  <body class="font-sans text-gray-900 antialiased">
    <!-- Progress Bar -->
    <div id="progress-bar"></div>

    <!-- Navbar -->
    <nav
      class="fixed w-full bg-white/70 backdrop-blur-md z-50 shadow-sm"
      x-data="{ open: false }"
    >
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16"
      >
        <div class="text-2xl font-bold text-purple-600">
          AI Automation Elite
        </div>
        <div class="hidden md:flex space-x-8">
          <a href="#services" class="hover:text-purple-600">Services</a>
          <a href="#process" class="hover:text-purple-600">Process</a>
          <a href="#about" class="hover:text-purple-600">About</a>
          <a
            href="#contact"
            class="bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition"
            >Book a Call</a
          >
        </div>
        <!-- Mobile Menu Button -->
        <div class="md:hidden">
          <button
            @click="open = !open"
            class="text-gray-700 focus:outline-none"
          >
            â˜°
          </button>
        </div>
      </div>
      <!-- Mobile Menu -->
      <div
        x-show="open"
        @click.away="open = false"
        class="md:hidden bg-white/90 backdrop-blur-md"
      >
        <a href="#services" class="block px-4 py-2">Services</a>
        <a href="#process" class="block px-4 py-2">Process</a>
        <a href="#about" class="block px-4 py-2">About</a>
        <a href="#contact" class="block px-4 py-2 text-purple-600 font-semibold"
          >Let's Talk!</a
        >
      </div>
    </nav>

   <!-- Hero Section with Purple Plasma Lightning -->
<section id="hero" class="relative flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-black text-white overflow-hidden">
  <!-- Canvas for Three.js -->
  <canvas id="lightningCanvas" class="absolute inset-0 w-full h-full z-0"></canvas>

  <!-- Flash overlay (for the strike) -->
  <div id="strike-flash" style="position:absolute;inset:0;background:radial-gradient(circle at 50% 40%, rgba(255,230,255,0.25) 0%, rgba(180,100,255,0.06) 15%, transparent 40%);opacity:0;pointer-events:none;z-index:2;"></div>

  <!-- Hero Content -->
  <div class="relative z-10 text-center px-6">
    <h1 class="text-5xl sm:text-6xl font-extrabold mb-6">
      Transform Your Business with <span class="text-yellow-400">AI Automation</span>
    </h1>
    <p class="text-lg text-gray-300 max-w-2xl mx-auto mb-8">
      Empower your business with intelligent automation and cutting-edge AI solutions.
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="#contact" class="bg-yellow-400 text-purple-900 font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 shadow-lg transition">Start Your Journey</a>
      <a href="#services" class="border-2 border-yellow-400 text-yellow-400 font-semibold px-6 py-3 rounded-full hover:bg-yellow-400 hover:text-purple-900 transition">Explore Services</a>
    </div>
  </div>
</section>

    <!-- Services Section -->
    <section id="services" class="py-20 bg-gray-50">
      <div class="max-w-7xl mx-auto px-6 text-center">
        <h2
          class="text-3xl md:text-4xl font-bold text-purple-600 mb-6"
          data-aos="fade-up"
        >
          Our Services
        </h2>
        <p
          class="text-gray-600 max-w-2xl mx-auto mb-12"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          Comprehensive AI solutions tailored to your business needs
        </p>
        <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-4">
          <!-- Chatbot -->
          <div
            class="glass-card p-6 text-center rounded-2xl hover:shadow-lg transition"
            data-aos="fade-up"
          >
            <img
              src="assets/ai-automation-icon.png"
              alt="Chatbot Development"
              class="w-16 h-16 mx-auto mb-4 object-contain rounded-xl shadow-md hover:scale-105 transition"
            />
            <h3 class="text-xl font-semibold mb-2">Chatbot Development</h3>
            <p class="text-gray-600">
              Custom AI chatbots that enhance customer engagement, provide 24/7
              support, and streamline communications.
            </p>
          </div>

          <!-- Workflow -->
          <div
            class="glass-card p-6 text-center rounded-2xl hover:shadow-lg transition"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <img
              src="assets/workflow-automation.png"
              alt="Workflow Automation"
              class="w-16 h-16 mx-auto mb-4 object-contain rounded-xl shadow-md hover:scale-105 transition"
            />
            <h3 class="text-xl font-semibold mb-2">Workflow Automation</h3>
            <p class="text-gray-600">
              Intelligent automation solutions that eliminate repetitive tasks,
              reduce errors, and free your team to focus on strategic work.
            </p>
          </div>

          <!-- Consulting -->
          <div
            class="glass-card p-6 text-center rounded-2xl hover:shadow-lg transition"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <img
              src="assets/consulting-service.png"
              alt="Consulting Services"
              class="w-16 h-16 mx-auto mb-4 object-contain rounded-xl shadow-md hover:scale-105 transition"
            />
            <h3 class="text-xl font-semibold mb-2">Individual Consulting</h3>
            <p class="text-gray-600">
              Personalized strategic guidance to help you identify opportunities
              and maximize ROI with AI.
            </p>
          </div>

          <!-- System Integration -->
          <div
            class="glass-card p-6 text-center rounded-2xl hover:shadow-lg transition"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div
              class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-xl bg-gradient-to-tr from-purple-500 to-pink-400 text-white shadow-md"
            >
              ğŸ”—
            </div>
            <h3 class="text-xl font-semibold mb-2">System Integration</h3>
            <p class="text-gray-600">
              Seamless integration of AI tools with your existing systems for
              smooth data flow and operational efficiency.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Process Section -->
    <section id="process" class="py-20 bg-white">
      <div class="max-w-7xl mx-auto px-6 text-center">
        <h2
          class="text-3xl md:text-4xl font-bold text-purple-600 mb-6"
          data-aos="fade-up"
        >
          Our Proven Process
        </h2>
        <div class="grid gap-12 md:grid-cols-4 mt-12">
          <div data-aos="fade-up">
            <div
              class="w-16 h-16 mx-auto flex items-center justify-center rounded-full bg-purple-600 text-white font-bold text-xl mb-4"
            >
              1
            </div>
            <h3 class="font-semibold">Book a Call</h3>
            <p class="text-gray-600">
              Schedule a free consultation to discuss your needs and goals.
            </p>
          </div>
          <div data-aos="fade-up" data-aos-delay="100">
            <div
              class="w-16 h-16 mx-auto flex items-center justify-center rounded-full bg-purple-600 text-white font-bold text-xl mb-4"
            >
              2
            </div>
            <h3 class="font-semibold">Intro Call</h3>
            <p class="text-gray-600">
              Deep dive into your challenges and explore potential solutions.
            </p>
          </div>
          <div data-aos="fade-up" data-aos-delay="200">
            <div
              class="w-16 h-16 mx-auto flex items-center justify-center rounded-full bg-purple-600 text-white font-bold text-xl mb-4"
            >
              3
            </div>
            <h3 class="font-semibold">Strategy</h3>
            <p class="text-gray-600">
              Develop a customized roadmap aligned with your objectives.
            </p>
          </div>
          <div data-aos="fade-up" data-aos-delay="300">
            <div
              class="w-16 h-16 mx-auto flex items-center justify-center rounded-full bg-purple-600 text-white font-bold text-xl mb-4"
            >
              4
            </div>
            <h3 class="font-semibold">Implementation</h3>
            <p class="text-gray-600">
              Execute the solution with continuous support and optimization.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-gray-50">
      <div class="max-w-5xl mx-auto px-6 text-center">
        <h2
          class="text-3xl md:text-4xl font-bold text-purple-600 mb-6"
          data-aos="fade-up"
        >
          About Us
        </h2>
        <p
          class="text-gray-600 max-w-2xl mx-auto"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          We are a team of AI automation experts passionate about transforming
          businesses with intelligent solutions. From chatbots to workflow
          automation, weâ€™ve helped dozens of companies unlock efficiency and
          growth.
        </p>
      </div>
    </section>

    <!-- Contact / CTA Section -->
    <section id="contact" class="py-20 bg-purple-600 text-white text-center">
      <div class="max-w-4xl mx-auto px-6" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">
          Ready to Automate Your Success?
        </h2>
        <p class="mb-8 text-lg opacity-90">
          Let's discuss how AI automation can transform your operations.
        </p>

        <!-- Contact Form -->
        <form
          action="https://formspree.io/f/meorglld"
          method="POST"
          class="space-y-4"
        >
          <input
            type="text"
            name="name"
            placeholder="Your Name"
            required
            class="w-full p-3 rounded-md text-gray-900"
          />
          <input
            type="email"
            name="email"
            placeholder="Your Email"
            required
            class="w-full p-3 rounded-md text-gray-900"
          />

          <div class="flex gap-2">
    <select
      name="country_code"
      required
      class="w-1/3 p-3 rounded-md text-gray-900 bg-white border border-gray-300"
    >
      <option value="">Select Country Code</option>
  <option value="+1">ğŸ‡ºğŸ‡¸ United States (+1)</option>
  <option value="+44">ğŸ‡¬ğŸ‡§ United Kingdom (+44)</option>
  <option value="+91" selected>ğŸ‡®ğŸ‡³ India (+91)</option>
  <option value="+61">ğŸ‡¦ğŸ‡º Australia (+61)</option>
  <option value="+1">ğŸ‡¨ğŸ‡¦ Canada (+1)</option>
  <option value="+81">ğŸ‡¯ğŸ‡µ Japan (+81)</option>
  <option value="+49">ğŸ‡©ğŸ‡ª Germany (+49)</option>
  <option value="+33">ğŸ‡«ğŸ‡· France (+33)</option>
  <option value="+39">ğŸ‡®ğŸ‡¹ Italy (+39)</option>
  <option value="+34">ğŸ‡ªğŸ‡¸ Spain (+34)</option>
  <option value="+971">ğŸ‡¦ğŸ‡ª United Arab Emirates (+971)</option>
  <option value="+65">ğŸ‡¸ğŸ‡¬ Singapore (+65)</option>
  <option value="+60">ğŸ‡²ğŸ‡¾ Malaysia (+60)</option>
  <option value="+62">ğŸ‡®ğŸ‡© Indonesia (+62)</option>
  <option value="+66">ğŸ‡¹ğŸ‡­ Thailand (+66)</option>
  <option value="+63">ğŸ‡µğŸ‡­ Philippines (+63)</option>
  <option value="+852">ğŸ‡­ğŸ‡° Hong Kong (+852)</option>
  <option value="+886">ğŸ‡¹ğŸ‡¼ Taiwan (+886)</option>
  <option value="+82">ğŸ‡°ğŸ‡· South Korea (+82)</option>
  <option value="+86">ğŸ‡¨ğŸ‡³ China (+86)</option>
  <option value="+7">ğŸ‡·ğŸ‡º Russia (+7)</option>
  <option value="+90">ğŸ‡¹ğŸ‡· Turkey (+90)</option>
  <option value="+46">ğŸ‡¸ğŸ‡ª Sweden (+46)</option>
  <option value="+47">ğŸ‡³ğŸ‡´ Norway (+47)</option>
  <option value="+45">ğŸ‡©ğŸ‡° Denmark (+45)</option>
  <option value="+358">ğŸ‡«ğŸ‡® Finland (+358)</option>
  <option value="+31">ğŸ‡³ğŸ‡± Netherlands (+31)</option>
  <option value="+32">ğŸ‡§ğŸ‡ª Belgium (+32)</option>
  <option value="+41">ğŸ‡¨ğŸ‡­ Switzerland (+41)</option>
  <option value="+43">ğŸ‡¦ğŸ‡¹ Austria (+43)</option>
  <option value="+48">ğŸ‡µğŸ‡± Poland (+48)</option>
  <option value="+420">ğŸ‡¨ğŸ‡¿ Czech Republic (+420)</option>
  <option value="+421">ğŸ‡¸ğŸ‡° Slovakia (+421)</option>
  <option value="+36">ğŸ‡­ğŸ‡º Hungary (+36)</option>
  <option value="+40">ğŸ‡·ğŸ‡´ Romania (+40)</option>
  <option value="+30">ğŸ‡¬ğŸ‡· Greece (+30)</option>
  <option value="+353">ğŸ‡®ğŸ‡ª Ireland (+353)</option>
  <option value="+351">ğŸ‡µğŸ‡¹ Portugal (+351)</option>
  <option value="+380">ğŸ‡ºğŸ‡¦ Ukraine (+380)</option>
  <option value="+375">ğŸ‡§ğŸ‡¾ Belarus (+375)</option>
  <option value="+994">ğŸ‡¦ğŸ‡¿ Azerbaijan (+994)</option>
  <option value="+995">ğŸ‡¬ğŸ‡ª Georgia (+995)</option>
  <option value="+374">ğŸ‡¦ğŸ‡² Armenia (+374)</option>
  <option value="+973">ğŸ‡§ğŸ‡­ Bahrain (+973)</option>
  <option value="+974">ğŸ‡¶ğŸ‡¦ Qatar (+974)</option>
  <option value="+968">ğŸ‡´ğŸ‡² Oman (+968)</option>
  <option value="+965">ğŸ‡°ğŸ‡¼ Kuwait (+965)</option>
  <option value="+962">ğŸ‡¯ğŸ‡´ Jordan (+962)</option>
  <option value="+961">ğŸ‡±ğŸ‡§ Lebanon (+961)</option>
  <option value="+972">ğŸ‡®ğŸ‡± Israel (+972)</option>
  <option value="+20">ğŸ‡ªğŸ‡¬ Egypt (+20)</option>
  <option value="+212">ğŸ‡²ğŸ‡¦ Morocco (+212)</option>
  <option value="+213">ğŸ‡©ğŸ‡¿ Algeria (+213)</option>
  <option value="+216">ğŸ‡¹ğŸ‡³ Tunisia (+216)</option>
  <option value="+254">ğŸ‡°ğŸ‡ª Kenya (+254)</option>
  <option value="+256">ğŸ‡ºğŸ‡¬ Uganda (+256)</option>
  <option value="+255">ğŸ‡¹ğŸ‡¿ Tanzania (+255)</option>
  <option value="+27">ğŸ‡¿ğŸ‡¦ South Africa (+27)</option>
  <option value="+234">ğŸ‡³ğŸ‡¬ Nigeria (+234)</option>
  <option value="+233">ğŸ‡¬ğŸ‡­ Ghana (+233)</option>
  <option value="+62">ğŸ‡®ğŸ‡© Indonesia (+62)</option>
  <option value="+94">ğŸ‡±ğŸ‡° Sri Lanka (+94)</option>
  <option value="+977">ğŸ‡³ğŸ‡µ Nepal (+977)</option>
  <option value="+880">ğŸ‡§ğŸ‡© Bangladesh (+880)</option>
  <option value="+92">ğŸ‡µğŸ‡° Pakistan (+92)</option>
  <option value="+975">ğŸ‡§ğŸ‡¹ Bhutan (+975)</option>
  <option value="+84">ğŸ‡»ğŸ‡³ Vietnam (+84)</option>
  <option value="+856">ğŸ‡±ğŸ‡¦ Laos (+856)</option>
  <option value="+95">ğŸ‡²ğŸ‡² Myanmar (+95)</option>
  <option value="+673">ğŸ‡§ğŸ‡³ Brunei (+673)</option>
  <option value="+64">ğŸ‡³ğŸ‡¿ New Zealand (+64)</option>
  <option value="+679">ğŸ‡«ğŸ‡¯ Fiji (+679)</option>
  <option value="+675">ğŸ‡µğŸ‡¬ Papua New Guinea (+675)</option>
  <option value="+682">ğŸ‡¨ğŸ‡° Cook Islands (+682)</option>
  <option value="+685">ğŸ‡¼ğŸ‡¸ Samoa (+685)</option>
  <option value="+686">ğŸ‡°ğŸ‡® Kiribati (+686)</option>
  <option value="+64">ğŸ‡³ğŸ‡º Niue (+64)</option>
  <option value="+689">ğŸ‡µğŸ‡« French Polynesia (+689)</option>
  <option value="+598">ğŸ‡ºğŸ‡¾ Uruguay (+598)</option>
  <option value="+54">ğŸ‡¦ğŸ‡· Argentina (+54)</option>
  <option value="+55">ğŸ‡§ğŸ‡· Brazil (+55)</option>
  <option value="+56">ğŸ‡¨ğŸ‡± Chile (+56)</option>
  <option value="+57">ğŸ‡¨ğŸ‡´ Colombia (+57)</option>
  <option value="+51">ğŸ‡µğŸ‡ª Peru (+51)</option>
  <option value="+593">ğŸ‡ªğŸ‡¨ Ecuador (+593)</option>
  <option value="+58">ğŸ‡»ğŸ‡ª Venezuela (+58)</option>
  <option value="+507">ğŸ‡µğŸ‡¦ Panama (+507)</option>
  <option value="+52">ğŸ‡²ğŸ‡½ Mexico (+52)</option>
  <option value="+505">ğŸ‡³ğŸ‡® Nicaragua (+505)</option>
  <option value="+506">ğŸ‡¨ğŸ‡· Costa Rica (+506)</option>
  <option value="+504">ğŸ‡­ğŸ‡³ Honduras (+504)</option>
  <option value="+502">ğŸ‡¬ğŸ‡¹ Guatemala (+502)</option>
  <option value="+1">ğŸ‡¯ğŸ‡² Jamaica (+1)</option>
  <option value="+1">ğŸ‡§ğŸ‡¸ Bahamas (+1)</option>
  <option value="+1">ğŸ‡§ğŸ‡§ Barbados (+1)</option>
  <option value="+1">ğŸ‡¹ğŸ‡¹ Trinidad and Tobago (+1)</option>
  <option value="+20">ğŸ‡ªğŸ‡¬ Egypt (+20)</option>
</select>

    <input
      type="tel"
      name="phone"
      placeholder="10-digit Phone Number"
      pattern="[0-9]{10}"
      maxlength="10"
      minlength="10"
      required
      class="w-2/3 p-3 rounded-md text-gray-900 border border-gray-300"
      oninput="this.value=this.value.replace(/[^0-9]/g,'');"
    />
  </div>

          <textarea
            name="message"
            rows="4"
            placeholder="Tell us about your project , make sure you make it detailed as it helps us understand your needs better."
            class="w-full p-3 rounded-md text-gray-900"
          ></textarea>
          <button
            type="submit"
            class="bg-yellow-400 text-purple-900 font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 transition"
          >
            Send Message
          </button>
        </form>

        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-8 text-center">
      <p>&copy; 2025 AI Automation Elite. All rights reserved.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();

      // Progress bar script
      window.addEventListener("scroll", () => {
        const scrollTop = window.scrollY;
        const docHeight = document.body.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollTop / docHeight) * 100;
        document.getElementById("progress-bar").style.width =
          scrollPercent + "%";
      });
    </script>

   <!-- Three.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

<script>
/*
 Purple Plasma Lightning
 - Single thick bolt (tube geometry) + outer glow shells
 - Branch veins (lines) that appear during strike
 - Spark particle burst
 - Bright flash overlay
 - Loops every 3 seconds
 - Disabled on small screens (<=768px) â€” fallback CSS pulse is recommended
*/

(function(){
  if (window.innerWidth <= 768) {
    // Optional mobile fallback: subtle pulsing background (no WebGL)
    const hero = document.getElementById('hero');
    if (hero) hero.style.background = 'radial-gradient(circle at 50% 40%, rgba(140, 86, 255, 0.12), rgba(80,20,120,0.08) 40%, rgba(0,0,0,0.6))';
    return;
  }

  // Basic Three.js setup
  const canvas = document.getElementById('lightningCanvas');
  const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.outputEncoding = THREE.sRGBEncoding;

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
  camera.position.set(0, 0, 18);

  // subtle ambient
  const ambient = new THREE.AmbientLight(0xffffff, 0.25);
  scene.add(ambient);

  // subtle point light to add shimmer
  const point = new THREE.PointLight(0xffe6ff, 1.0, 200);
  point.position.set(0, 5, 10);
  scene.add(point);

  // container for all bolt objects
  const group = new THREE.Group();
  scene.add(group);

  // utility: random range
  const rand = (a,b) => a + Math.random()*(b-a);

  // Create bolt geometry: a vertical spline with noise
  function makeBoltCurve(detail=14, scaleX=1.6, length=12) {
    const pts = [];
    for (let i=0;i<detail;i++){
      const t = i/(detail-1);
      const y = (t - 0.5) * length; // center at 0
      // X offset stronger in middle for dramatic bend
      const x = (Math.sin(t * Math.PI) * rand(-0.6,0.6)) * scaleX;
      const z = rand(-1.8,1.8);
      pts.push(new THREE.Vector3(x, y, z));
    }
    return new THREE.CatmullRomCurve3(pts);
  }

  // Create tube mesh with additive material (main fat bolt)
  function createBoltMesh(curve) {
    const tubularSegments = 64;
    const radius = 0.18; // thickness of main bolt
    const geometry = new THREE.TubeGeometry(curve, tubularSegments, radius, 8, false);

    const material = new THREE.MeshBasicMaterial({
      color: 0x9a4dff, // purple core base
      transparent: true,
      opacity: 1.0,
      blending: THREE.AdditiveBlending,
      depthWrite: false
    });

    const mesh = new THREE.Mesh(geometry, material);
    mesh.castShadow = false;
    return mesh;
  }

  // Glow shells: same geometry but larger and softer â€” stacked for outer glow
  function createGlowShell(curve, scaleFactor, colorHex, opacity) {
    const geometry = new THREE.TubeGeometry(curve, 64, 0.18 * scaleFactor, 8, false);
    const material = new THREE.MeshBasicMaterial({
      color: colorHex,
      transparent: true,
      opacity: opacity,
      blending: THREE.AdditiveBlending,
      depthWrite: false
    });
    const mesh = new THREE.Mesh(geometry, material);
    return mesh;
  }

  // Branch veins: random short lines off main curve
  function createBranches(curve, count=6) {
    const branches = new THREE.Group();
    const pts = curve.getPoints(40);
    for (let i=0;i<count;i++){
      const baseIndex = Math.floor(rand(8, pts.length-6));
      const base = pts[baseIndex];
      const length = rand(1.0, 3.0);
      const dir = new THREE.Vector3(rand(-1,1), rand(-0.6,0.6), rand(-0.8,0.8)).normalize();
      const ptsBranch = [base.clone(), base.clone().add(dir.multiplyScalar(length)).add(new THREE.Vector3(rand(-0.4,0.4), rand(-0.4,0.4), rand(-0.4,0.4)))];
      const geom = new THREE.BufferGeometry().setFromPoints(ptsBranch);
      const mat = new THREE.LineBasicMaterial({ color: 0xe6ccff, linewidth: 2, transparent:true, opacity:0.0, blending: THREE.AdditiveBlending, depthWrite: false });
      const line = new THREE.Line(geom, mat);
      branches.add(line);
    }
    return branches;
  }

  // Sparks particle system
  function createSparks(count=60) {
    const geometry = new THREE.BufferGeometry();
    const positions = new Float32Array(count * 3);
    const sizes = new Float32Array(count);
    for (let i=0;i<count;i++){
      positions[i*3] = rand(-3,3);
      positions[i*3+1] = rand(-6,6);
      positions[i*3+2] = rand(-3,3);
      sizes[i] = rand(0.02, 0.09);
    }
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));

    const material = new THREE.PointsMaterial({
      color: 0xffe6ff,
      size: 0.12,
      transparent: true,
      opacity: 0.0,
      blending: THREE.AdditiveBlending,
      depthWrite: false
    });

    const points = new THREE.Points(geometry, material);
    return points;
  }

  // Create initial bolt + shells + branches + sparks
  let mainBolt, shell1, shell2, shell3, branches, sparks;
  function spawnBolt() {
    // clear previous
    if (mainBolt) { group.remove(mainBolt); mainBolt.geometry.dispose(); mainBolt.material.dispose(); }
    if (shell1) { group.remove(shell1); shell1.geometry.dispose(); shell1.material.dispose(); }
    if (shell2) { group.remove(shell2); shell2.geometry.dispose(); shell2.material.dispose(); }
    if (shell3) { group.remove(shell3); shell3.geometry.dispose(); shell3.material.dispose(); }
    if (branches) { group.remove(branches); }
    if (sparks) { group.remove(sparks); }

    const curve = makeBoltCurve(18, 1.8, 14);

    mainBolt = createBoltMesh(curve);
    mainBolt.material.color.setHex(0xd7a0ff); // bright purple core
    mainBolt.material.opacity = 0.0;

    shell1 = createGlowShell(curve, 2.2, 0xbb66ff, 0.0); // inner glow
    shell2 = createGlowShell(curve, 3.4, 0x7b3bff, 0.0); // outer blur
    shell3 = createGlowShell(curve, 5.5, 0x4a1f8b, 0.0); // soft wide halo

    branches = createBranches(curve, 8);
    sparks = createSparks(90);

    // put in group
    group.add(shell3);
    group.add(shell2);
    group.add(shell1);
    group.add(mainBolt);
    group.add(branches);
    group.add(sparks);

    // initial transforms
    group.rotation.y = rand(-0.2, 0.2);
  }

  spawnBolt();

  // Animation helpers
  const clock = new THREE.Clock();
  let strikeTime = -999;
  let striking = false;

  function triggerStrike() {
    strikeTime = performance.now();
    striking = true;

    // make bolt visible quickly
    if (mainBolt) mainBolt.material.opacity = 1.0;
    if (shell1) shell1.material.opacity = 0.45;
    if (shell2) shell2.material.opacity = 0.28;
    if (shell3) shell3.material.opacity = 0.12;

    // branches appear
    branches.children.forEach((ln, idx) => {
      ln.material.opacity = 0.9;
    });

    // sparks pop (set opacity)
    sparks.material.opacity = 1.0;

    // overlay flash
    const flash = document.getElementById('strike-flash');
    if (flash) {
      flash.style.transition = 'none';
      flash.style.opacity = '0.9';
      setTimeout(()=>{ flash.style.transition = 'opacity 450ms ease-out'; flash.style.opacity = '0.0'; }, 80);
    }

    // small pulse on camera / group
    const originalZ = camera.position.z;
    // quick camera push (soft)
    // we'll animate in render loop
  }

  // Loop strike every 3.2 seconds
  triggerStrike();
  const strikeInterval = 3200;
  setInterval(()=> {
    // respawn geometry slightly to vary shape each strike
    spawnBolt();
    triggerStrike();
  }, strikeInterval);

  // render loop
  function animate() {
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();

    // subtle rotation
    group.rotation.y += 0.0008;

    // flicker core and shells after strike
    const sinceStrike = (performance.now() - strikeTime);
    if (striking) {
      // fade out over ~900ms
      const fade = Math.max(0, 1 - (sinceStrike / 900));
      if (mainBolt) mainBolt.material.opacity = 0.6 * fade + Math.sin(t * 45) * 0.05;
      if (shell1) shell1.material.opacity = 0.45 * fade;
      if (shell2) shell2.material.opacity = 0.28 * fade;
      if (shell3) shell3.material.opacity = 0.12 * fade * (1 + Math.sin(t*6)*0.1);

      // branches fade faster
      branches.children.forEach((ln, idx) => {
        ln.material.opacity = Math.max(0, 0.9 * fade - idx*0.05);
      });

      // sparks pop outward and fade
      const posAttr = sparks.geometry.attributes.position;
      for (let i=0;i<posAttr.count;i++){
        posAttr.array[i*3] += (Math.random()-0.5)*0.12 * (1 + (1-fade)*2);
        posAttr.array[i*3+1] += (Math.random()-0.2)*0.14 * (1 + (1-fade)*2);
        posAttr.array[i*3+2] += (Math.random()-0.5)*0.12 * (1 + (1-fade)*2);
      }
      posAttr.needsUpdate = true;
      sparks.material.opacity = Math.max(0, fade);

      if (fade <= 0.01) {
        striking = false;
        // hide branches and sparks fully
        branches.children.forEach(ln=>ln.material.opacity=0);
        sparks.material.opacity = 0;
        mainBolt.material.opacity = 0;
        shell1.material.opacity = 0;
        shell2.material.opacity = 0;
        shell3.material.opacity = 0;
      }
    } else {
      // breathing idle glow
      if (mainBolt) mainBolt.material.opacity = 0.03 + 0.02*Math.sin(t*1.5);
      if (shell1) shell1.material.opacity = 0.01 + 0.01*Math.sin(t*1.2);
    }

    // tiny jitter to geometry for natural flicker
    if (mainBolt && mainBolt.geometry && mainBolt.geometry.attributes.position) {
      const position = mainBolt.geometry.attributes.position;
      for (let i=0;i<position.count;i++){
        const ix = i*3;
        position.array[ix] += (Math.random()-0.5)*0.0008;
        position.array[ix+2] += (Math.random()-0.5)*0.0008;
      }
      position.needsUpdate = true;
    }

    renderer.render(scene, camera);
  }

  animate();

  // Resize handling
  window.addEventListener('resize', ()=> {
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
  });

})();
</script>

  </body>
</html>
